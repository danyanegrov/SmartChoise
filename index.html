<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartChoice AI - –ü–æ–º–æ—â–Ω–∏–∫ –†–µ—à–µ–Ω–∏–π</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app-new.js"></script>
</head>
<body>
    <a href="#main" class="skip-link">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É</a>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <h1 class="header__title" onclick="showScreen('home')">üß† SmartChoice AI</h1>
                        <p class="header__subtitle">–ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ —Ä–µ—à–µ–Ω–∏—è —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º</p>
                    </div>
                    <nav class="header-nav">
                        <button class="nav-btn" onclick="showScreen('dashboard')" title="–ê–Ω–∞–ª–∏—Ç–∏–∫–∞">üìä</button>
                        <button class="nav-btn" onclick="showScreen('history')" title="–ò—Å—Ç–æ—Ä–∏—è">üìã</button>
                        <button class="nav-btn" onclick="showScreen('profile')" title="–ü—Ä–æ—Ñ–∏–ª—å">‚öôÔ∏è</button>
                        <button class="nav-btn logout-btn" onclick="app.logout()" title="–í—ã—Ö–æ–¥" style="display: none;">üö™</button>
                    </nav>
                </div>
            </div>
        </header>

        <!-- Toast Notifications -->
        <div id="toast-container" class="toast-container"></div>

        <!-- Main Content -->
        <main id="main" class="main-content container">
            
            <!-- Home Screen -->
            <div id="home-screen" class="screen active">
                <div class="layout-grid">
                    <!-- Left Sidebar -->
                    <aside class="sidebar-left">
                        <div class="sidebar-card">
                            <div class="modes-title">–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã</div>
                            <div class="modes-list" id="modes-list">
                                <button class="mode-btn active" data-type="simple">
                                    <span class="mode-icon">‚öñÔ∏è</span>
                                    <span class="mode-name">–í—ã–±–æ—Ä (Choice)</span>
                                </button>
                                <button class="mode-btn" data-type="ai">
                                    <span class="mode-icon">ü§ñ</span>
                                    <span class="mode-name">AI –ø–æ–º–æ—â–Ω–∏–∫</span>
                                </button>
                                <button class="mode-btn" data-type="analysis">
                                    <span class="mode-icon">üìä</span>
                                    <span class="mode-name">–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö</span>
                                </button>
                                <button class="mode-btn" data-type="complex">
                                    <span class="mode-icon">üß†</span>
                                    <span class="mode-name">–°–ª–æ–∂–Ω—ã–π –∞–Ω–∞–ª–∏–∑</span>
                                </button>
                                <button class="mode-btn" data-type="random">
                                    <span class="mode-icon">üé≤</span>
                                    <span class="mode-name">–†–∞–Ω–¥–æ–º</span>
                                </button>
                            </div>
                        </div>
                    </aside>

                    <!-- Center Panel -->
                    <section class="center-panel">
                        <div class="welcome-section">
                            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ SmartChoice AI!</h2>
                            <p>–ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ —Ä–µ—à–µ–Ω–∏—è —É–≤–µ—Ä–µ–Ω–Ω–æ. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –∏ –æ–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞—á—É.</p>
                        </div>

                        <label class="form-label">–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É —Å–∏—Ç—É–∞—Ü–∏—é</label>
                        <textarea id="home-input" class="textarea" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î—É–º–∞—é —Å–º–µ–Ω–∏—Ç—å —Ä–∞–±–æ—Ç—É, –Ω–æ –ø–µ—Ä–µ–∂–∏–≤–∞—é –æ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏..."></textarea>

                        <div>
                            <button id="home-submit" class="btn btn--primary primary-action">
                                –û—Ç–ø—Ä–∞–≤–∏—Ç—å
                            </button>
                        </div>

                        <div class="answer-area" id="home-answer" aria-live="polite"></div>

                        <div>
                            <h3 style="margin-bottom:8px;">–ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤</h3>
                            <div class="examples" id="examples-list"></div>
                        </div>
                    </section>

                    <!-- Right Sidebar -->
                    <aside class="sidebar-right">
                        <div class="sidebar-card">
                            <h4 style="margin-bottom:8px;">–ù–µ–¥–∞–≤–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è</h4>
                            <div class="recent-list" id="recent-decisions"></div>
                        </div>
                        <div class="sidebar-card">
                            <h4 style="margin-bottom:8px;">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h4>
                            <div class="stats-block">
                                <div class="stat-mini">
                                    <div class="stat-number" id="mini-total">0</div>
                                    <div class="stat-label">–í—Å–µ–≥–æ</div>
                                </div>
                                <div class="stat-mini">
                                    <div class="stat-number" id="mini-accuracy">0%</div>
                                    <div class="stat-label">–¢–æ—á–Ω–æ—Å—Ç—å</div>
                                </div>
                            </div>
                        </div>
                        <div class="sidebar-card">
                            <h4 style="margin-bottom:8px;">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h4>
                            <div class="recent-list">
                                <button class="btn btn--outline" onclick="showScreen('dashboard')">–û—Ç–∫—Ä—ã—Ç—å –¥–∞—à–±–æ—Ä–¥</button>
                                <button class="btn btn--outline" onclick="showScreen('history')">–ò—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π</button>
                            </div>
                        </div>
                    </aside>
                </div>
            </div>

            <!-- Decision Screen -->
            <div id="decision-screen" class="screen">
                <div class="screen-header">
                    <button class="btn-back" onclick="showScreen('home')">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2 class="decision-title">–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏—è</h2>
                    <p class="decision-description">–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É —Å–∏—Ç—É–∞—Ü–∏—é</p>
                </div>

                <div class="decision-form">
                    <div class="form-group">
                        <label class="form-label">–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É —Å–∏—Ç—É–∞—Ü–∏—é:</label>
                        <textarea id="decision-question" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î—É–º–∞—é —Å–º–µ–Ω–∏—Ç—å —Ä–∞–±–æ—Ç—É, –Ω–æ –ø–µ—Ä–µ–∂–∏–≤–∞—é –æ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏..."></textarea>
                    </div>

                    <div class="options-section">
                        <h4>–í–∞—à–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã:</h4>
                        <div id="decision-options" class="options-list">
                            <div class="option-item">
                                <input type="text" class="form-control" placeholder="–í–∞—Ä–∏–∞–Ω—Ç 1">
                                <button class="btn btn--small btn--danger" onclick="this.parentElement.remove()">√ó</button>
                            </div>
                            <div class="option-item">
                                <input type="text" class="form-control" placeholder="–í–∞—Ä–∏–∞–Ω—Ç 2">
                                <button class="btn btn--small btn--danger" onclick="this.parentElement.remove()">√ó</button>
                            </div>
                        </div>
                        <button id="add-decision-option" class="btn btn--secondary">+ –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç</button>
                    </div>

                    <button id="get-decision-recommendation" class="btn btn--primary btn--full-width">
                        –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é
                    </button>
                </div>

                <div id="decision-result" class="result-section hidden">
                    <div class="result-card">
                        <h3>üéâ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞!</h3>
                        <div class="recommended-option"></div>
                        <div class="ai-confidence">
                            <div class="confidence-label">–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ò–ò:</div>
                            <div class="confidence-bar">
                                <div class="confidence-fill"></div>
                            </div>
                            <div class="confidence-text"></div>
                        </div>
                        <div class="result-explanation"></div>
                        <div class="result-actions">
                            <button class="btn btn--secondary" onclick="app.showScreen('home')">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
                            <button class="btn btn--outline" onclick="app.showScreen('history')">–ò—Å—Ç–æ—Ä–∏—è</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Simple Decision Screen -->
            <div id="simple-screen" class="screen">
                <div class="screen-header">
                    <button class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2>–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å –ò–ò</h2>
                    <div class="ai-status">
                        <span class="ai-indicator active"></span>
                        <span>Emotion AI –∞–∫—Ç–∏–≤–µ–Ω</span>
                    </div>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" data-progress="0"></div>
                </div>

                <div class="decision-form">
                    <div class="form-group">
                        <label class="form-label">–û–ø–∏—à–∏—Ç–µ –≤–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ:</label>
                        <textarea id="simple-question" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –í–æ–ª–Ω—É—é—Å—å, –∫–∞–∫–æ–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω –≤—ã–±—Ä–∞—Ç—å –Ω–∞ –≤–∞–∂–Ω—É—é –≤—Å—Ç—Ä–µ—á—É..."></textarea>
                        <div class="emotion-analysis" id="emotion-result">
                            <span class="emotion-icon">ü§î</span>
                            <span class="emotion-text">–ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ...</span>
                        </div>
                    </div>

                    <div class="options-section">
                        <h4>–í–∞—à–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã:</h4>
                        <div id="simple-options" class="options-list">
                            <div class="option-item">
                                <input type="text" class="form-control" placeholder="–í–∞—Ä–∏–∞–Ω—Ç 1">
                                <div class="rating" data-value="0">
                                    <span class="star" data-rating="1">‚òÖ</span>
                                    <span class="star" data-rating="2">‚òÖ</span>
                                    <span class="star" data-rating="3">‚òÖ</span>
                                    <span class="star" data-rating="4">‚òÖ</span>
                                    <span class="star" data-rating="5">‚òÖ</span>
                                </div>
                            </div>
                            <div class="option-item">
                                <input type="text" class="form-control" placeholder="–í–∞—Ä–∏–∞–Ω—Ç 2">
                                <div class="rating" data-value="0">
                                    <span class="star" data-rating="1">‚òÖ</span>
                                    <span class="star" data-rating="2">‚òÖ</span>
                                    <span class="star" data-rating="3">‚òÖ</span>
                                    <span class="star" data-rating="4">‚òÖ</span>
                                    <span class="star" data-rating="5">‚òÖ</span>
                                </div>
                            </div>
                        </div>
                        <button id="add-simple-option" class="btn btn--secondary">+ –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç</button>
                    </div>

                    <button id="get-simple-recommendation" class="btn btn--primary btn--full-width">
                        <span class="btn-text">–ü–æ–ª—É—á–∏—Ç—å –ò–ò —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é</span>
                        <span class="btn-loader hidden">–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é...</span>
                    </button>
                </div>

                <div id="simple-result" class="result-section hidden">
                    <div class="result-card">
                        <h3>üéâ –ò–ò —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞!</h3>
                        <div class="recommended-option"></div>
                        <div class="ai-confidence">
                            <div class="confidence-label">–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ò–ò:</div>
                            <div class="confidence-bar">
                                <div class="confidence-fill"></div>
                            </div>
                            <div class="confidence-text"></div>
                        </div>
                        <div class="result-explanation"></div>
                        <div class="result-actions">
                            <button class="btn btn--secondary" onclick="startOver()">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
                            <button class="btn btn--outline" onclick="saveAndHome()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Complex Decision Screen -->
            <div id="complex-screen" class="screen">
                <div class="screen-header">
                    <button class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2>–°–ª–æ–∂–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (MCDA)</h2>
                    <div class="ai-status">
                        <span class="ai-indicator active"></span>
                        <span>AHP + TOPSIS –∞–∫—Ç–∏–≤–Ω—ã</span>
                    </div>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" data-progress="0"></div>
                </div>

                <div class="decision-form">
                    <div class="form-group">
                        <label class="form-label">–û–ø–∏—à–∏—Ç–µ –≤–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ:</label>
                        <textarea id="complex-question" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –í—ã–±–∏—Ä–∞—é –∫–≤–∞—Ä—Ç–∏—Ä—É –¥–ª—è –ø–æ–∫—É–ø–∫–∏, –≤–∞–∂–Ω—ã –ª–æ–∫–∞—Ü–∏—è, —Ü–µ–Ω–∞ –∏ –ø–ª–æ—â–∞–¥—å..."></textarea>
                    </div>

                    <div class="step" id="complex-step-1">
                        <h4>–®–∞–≥ 1: –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤–∞–∂–Ω–æ—Å—Ç–∏ (AHP –∞–Ω–∞–ª–∏–∑)</h4>
                        <div class="algorithm-info">
                            <span class="algo-badge">AHP</span>
                            <span>–ê–ª–≥–æ—Ä–∏—Ç–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–µ—Ç –≤–µ—Å–∞ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤</span>
                        </div>
                        <div id="complex-criteria" class="criteria-list">
                            <div class="criteria-item">
                                <input type="text" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¶–µ–Ω–∞">
                                <select class="form-control">
                                    <option value="1">–ù–µ –≤–∞–∂–Ω–æ (1)</option>
                                    <option value="2">–ú–∞–ª–æ –≤–∞–∂–Ω–æ (2)</option>
                                    <option value="3" selected>–°—Ä–µ–¥–Ω–µ –≤–∞–∂–Ω–æ (3)</option>
                                    <option value="4">–û—á–µ–Ω—å –≤–∞–∂–Ω–æ (4)</option>
                                    <option value="5">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ (5)</option>
                                </select>
                            </div>
                        </div>
                        <button id="add-criteria" class="btn btn--secondary">+ –î–æ–±–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–π</button>
                        <button id="next-to-options" class="btn btn--primary">–î–∞–ª–µ–µ –∫ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º</button>
                    </div>

                    <div class="step hidden" id="complex-step-2">
                        <h4>–®–∞–≥ 2: –û—Ü–µ–Ω–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (TOPSIS)</h4>
                        <div class="algorithm-info">
                            <span class="algo-badge">TOPSIS</span>
                            <span>–†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –±–ª–∏–∑–æ—Å—Ç–∏ –∫ –∏–¥–µ–∞–ª—å–Ω–æ–º—É —Ä–µ—à–µ–Ω–∏—é</span>
                        </div>
                        <div id="complex-options" class="options-section">
                            <input type="text" class="form-control" placeholder="–î–æ–±–∞–≤—å—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç...">
                            <button id="add-complex-option" class="btn btn--secondary">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                        </div>
                        
                        <div id="evaluation-matrix" class="matrix-section"></div>
                        <button id="calculate-complex" class="btn btn--primary btn--full-width">
                            <span class="btn-text">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ò–ò –∞–Ω–∞–ª–∏–∑</span>
                            <span class="btn-loader hidden">–í—ã—á–∏—Å–ª—è—é AHP + TOPSIS...</span>
                        </button>
                    </div>
                </div>

                <div id="complex-result" class="result-section hidden">
                    <div class="result-card">
                        <h3>üìà MCDA –∞–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω!</h3>
                        <div class="algorithm-results">
                            <div class="algo-result">
                                <h5>AHP –≤–µ—Å–∞ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤:</h5>
                                <div id="ahp-weights" class="weights-display"></div>
                            </div>
                            <div class="algo-result">
                                <h5>TOPSIS —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ:</h5>
                                <div id="topsis-scores" class="complex-results"></div>
                            </div>
                        </div>
                        <div class="result-actions">
                            <button class="btn btn--secondary" onclick="startOver()">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
                            <button class="btn btn--outline" onclick="saveAndHome()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Random Decision Screen -->
            <div id="random-screen" class="screen">
                <div class="screen-header">
                    <button class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2>–ö–æ–ª–µ—Å–æ –≤—ã–±–æ—Ä–∞</h2>
                    <div class="ai-status">
                        <span class="ai-indicator"></span>
                        <span>–ß–µ—Å—Ç–Ω—ã–π —Å–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä</span>
                    </div>
                </div>

                <div class="decision-form">
                    <div class="form-group">
                        <label class="form-label">–î–æ–±–∞–≤—å—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è –≤—ã–±–æ—Ä–∞:</label>
                        <div id="random-options" class="options-list">
                            <input type="text" class="form-control" placeholder="–í–∞—Ä–∏–∞–Ω—Ç 1">
                            <input type="text" class="form-control" placeholder="–í–∞—Ä–∏–∞–Ω—Ç 2">
                        </div>
                        <button id="add-random-option" class="btn btn--secondary">+ –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç</button>
                    </div>

                    <div class="wheel-section">
                        <div id="decision-wheel" class="wheel">
                            <div class="wheel-center">
                                <div class="wheel-arrow">‚ñ≤</div>
                            </div>
                            <div class="wheel-segments"></div>
                        </div>
                        <button id="spin-wheel" class="btn btn--primary btn--lg">
                            üé≤ –ö—Ä—É—Ç–∏—Ç—å –∫–æ–ª–µ—Å–æ
                        </button>
                    </div>
                </div>

                <div id="random-result" class="result-section hidden">
                    <div class="result-card">
                        <h3>üéØ –°—É–¥—å–±–∞ —Ä–µ—à–∏–ª–∞!</h3>
                        <div class="random-choice"></div>
                        <div class="result-actions">
                            <button class="btn btn--secondary" onclick="spinAgain()">–ö—Ä—É—Ç–∏—Ç—å –µ—â–µ —Ä–∞–∑</button>
                            <button class="btn btn--outline" onclick="saveAndHome()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Screen -->
            <div id="dashboard-screen" class="screen">
                <div class="screen-header">
                    <button class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2>–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –¥–∞—à–±–æ—Ä–¥</h2>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h4>–¢–∏–ø—ã —Ä–µ—à–µ–Ω–∏–π</h4>
                        <div class="chart-container" style="position: relative; height: 300px;">
                            <canvas id="decision-types-chart"></canvas>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <h4>–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</h4>
                        <div class="chart-container" style="position: relative; height: 300px;">
                            <canvas id="emotions-chart"></canvas>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <h4>–£—Å–ø–µ—à–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏–π</h4>
                        <div class="chart-container" style="position: relative; height: 300px;">
                            <canvas id="satisfaction-chart"></canvas>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <h4>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Å–∞–π—Ç—ã</h4>
                        <div class="insights-list" id="insights-container">
                            <div class="insight-item">
                                <span class="insight-icon">üéØ</span>
                                <span>–í—ã —á–∞—â–µ –≤—ã–±–∏—Ä–∞–µ—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è –≤ —Å—Ç—Ä–µ—Å—Å–æ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã</span>
                            </div>
                            <div class="insight-item">
                                <span class="insight-icon">üìä</span>
                                <span>–í–∞—à–∏ —Å–ª–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏–º–µ—é—Ç 92% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å</span>
                            </div>
                            <div class="insight-item">
                                <span class="insight-icon">‚è∞</span>
                                <span>–û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π: —É—Ç—Ä–æ</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- History Screen -->
            <div id="history-screen" class="screen">
                <div class="screen-header">
                    <button class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2>–ò—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π</h2>
                    <div class="history-controls">
                        <select id="history-filter" class="form-control">
                            <option value="all">–í—Å–µ —Ç–∏–ø—ã</option>
                            <option value="simple">–ë—ã—Å—Ç—Ä—ã–µ</option>
                            <option value="complex">–°–ª–æ–∂–Ω—ã–µ</option>
                            <option value="random">–°–ª—É—á–∞–π–Ω—ã–µ</option>
                        </select>
                        <button class="btn btn--outline" onclick="exportHistory()">–≠–∫—Å–ø–æ—Ä—Ç CSV</button>
                    </div>
                </div>

                <div class="history-container" id="history-list">
                    <!-- History items will be populated dynamically -->
                </div>
            </div>

            <!-- Dashboard Screen -->
            <div id="dashboard-screen" class="screen">
                <div class="screen-header">
                    <button class="btn-back" onclick="showScreen('home')">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-number" id="total-decisions">0</div>
                                <div class="stat-label">–í—Å–µ–≥–æ —Ä–µ—à–µ–Ω–∏–π</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="success-rate">0%</div>
                                <div class="stat-label">–£—Å–ø–µ—à–Ω–æ—Å—Ç—å</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="avg-confidence">0%</div>
                                <div class="stat-label">–°—Ä–µ–¥–Ω—è—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å</div>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <h3>–¢–∏–ø—ã —Ä–µ—à–µ–Ω–∏–π</h3>
                        <div class="chart-container">
                            <canvas id="decisions-chart"></canvas>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <h3>–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h3>
                        <div class="activity-list" id="activity-list">
                            <!-- Activity items will be populated dynamically -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- History Screen -->
            <div id="history-screen" class="screen">
                <div class="screen-header">
                    <button class="btn-back" onclick="showScreen('home')">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2>–ò—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π</h2>
                </div>

                <div class="history-filters">
                    <select id="history-type-filter" class="form-control">
                        <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
                        <option value="simple">–ü—Ä–æ—Å—Ç–æ–π –≤—ã–±–æ—Ä</option>
                        <option value="complex">–°–ª–æ–∂–Ω—ã–π –∞–Ω–∞–ª–∏–∑</option>
                        <option value="random">–°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä</option>
                    </select>
                    <button id="export-history" class="btn btn--outline">–≠–∫—Å–ø–æ—Ä—Ç</button>
                </div>

                <div class="history-container" id="history-list">
                    <!-- History items will be populated dynamically -->
                </div>
            </div>

            <!-- Profile Screen -->
            <div id="profile-screen" class="screen">
                <div class="screen-header">
                    <button class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
                    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</h2>
                </div>

                <div class="profile-form">
                    <div class="form-group">
                        <label class="form-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
                        <input type="text" id="user-name" class="form-control" placeholder="–í–∞—à–µ –∏–º—è">
                    </div>

                    <div class="form-group">
                        <label class="form-label">–í–æ–∑—Ä–∞—Å—Ç:</label>
                        <input type="number" id="user-age" class="form-control" min="18" max="100">
                    </div>

                    <div class="form-group">
                        <label class="form-label">–¢–∏–ø –ª–∏—á–Ω–æ—Å—Ç–∏:</label>
                        <select id="personality-type" class="form-control">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                            <option value="introvert">–ò–Ω—Ç—Ä–æ–≤–µ—Ä—Ç</option>
                            <option value="extrovert">–≠–∫—Å—Ç—Ä–∞–≤–µ—Ä—Ç</option>
                            <option value="ambivert">–ê–º–±–∏–≤–µ—Ä—Ç</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">–£—Ä–æ–≤–µ–Ω—å —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏: <span id="anxiety-value">5</span></label>
                        <input type="range" id="anxiety-level" class="form-range" min="1" max="10" value="5">
                        <div class="range-labels">
                            <span>–ù–∏–∑–∫–∏–π</span>
                            <span>–í—ã—Å–æ–∫–∏–π</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π:</label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" id="prefer-data">
                                <span>–ü–æ–ª–∞–≥–∞—é—Å—å –Ω–∞ –¥–∞–Ω–Ω—ã–µ</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="prefer-intuition">
                                <span>–î–æ–≤–µ—Ä—è—é –∏–Ω—Ç—É–∏—Ü–∏–∏</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="prefer-speed">
                                <span>–ü—Ä–∏–Ω–∏–º–∞—é —Ä–µ—à–µ–Ω–∏—è –±—ã—Å—Ç—Ä–æ</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="prefer-consultation">
                                <span>–°–æ–≤–µ—Ç—É—é—Å—å —Å –¥—Ä—É–≥–∏–º–∏</span>
                            </label>
                        </div>
                    </div>

                    <button id="save-profile" class="btn btn--primary btn--full-width">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <p>¬© 2025 SmartChoice AI. –ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ —Ä–µ—à–µ–Ω–∏—è —Å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é –ø—Ä–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –ò–ò.</p>
            </div>
        </footer>

        <!-- Decision Detail Modal -->
        <div id="decision-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-title">–î–µ—Ç–∞–ª–∏ —Ä–µ—à–µ–Ω–∏—è</h3>
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                </div>
                <div class="modal-body" id="modal-body">
                    <!-- Decision details will be populated here -->
                </div>
                <div class="modal-footer">
                    <button class="btn btn--outline" onclick="closeModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app-new.js"></script>
</body>
</html>