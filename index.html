<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartChoice AI - –ü–æ–º–æ—â–Ω–∏–∫ –†–µ—à–µ–Ω–∏–π</title>
    <meta name="description" content="–ü–æ–º–æ—â–Ω–∏–∫ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º –∏ –∞–Ω–∞–ª–∏–∑–æ–º –¥–∞–Ω–Ω—ã—Ö">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.js"></script>
</head>
<body>
    <a href="#main" class="skip-link">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É</a>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <h1 class="header__title" onclick="showScreen('home')">
                        <img src="–º–æ–∑–≥.png" alt="Brain" class="logo-icon">
                        SmartChoice AI
                    </h1>
                </div>
                <nav class="header-nav">
                    <button class="nav-btn" onclick="showScreen('dashboard')" title="–ê–Ω–∞–ª–∏—Ç–∏–∫–∞">üìä</button>
                    <button class="nav-btn" onclick="showScreen('history')" title="–ò—Å—Ç–æ—Ä–∏—è">üìã</button>
                    <button class="nav-btn" onclick="showScreen('profile')" title="–ü—Ä–æ—Ñ–∏–ª—å">‚öôÔ∏è</button>
                    <button class="nav-btn logout-btn" onclick="app.logout()" title="–í—ã—Ö–æ–¥" style="display: none;">üö™</button>
                    <button class="theme-toggle" id="theme-toggle" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                        <span class="theme-icon" id="theme-icon">üåô</span>
                    </button>
                </nav>
            </div>
        </header>

        <!-- Toast Notifications -->
        <div id="toast-container" class="toast-container"></div>

        <!-- Main Content -->
        <main id="main" class="main-content container">
            
            <!-- Home Screen -->
            <div id="home-screen" class="screen active">
                <div class="layout-grid">
                    <!-- Left Sidebar -->
                    <aside class="sidebar-left">
                        <div class="sidebar-card">
                            <div class="modes-list" id="modes-list">
                                <button class="mode-btn active" data-type="simple">
                                    <span class="mode-name">–í—ã–±–æ—Ä (Choice)</span>
                                </button>
                                <button class="mode-btn active" data-type="ai">
                                    <span class="mode-name">AI –ø–æ–º–æ—â–Ω–∏–∫</span>
                                </button>
                                <button class="mode-btn" data-type="analysis">
                                    <span class="mode-name">–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö</span>
                                </button>
                                <button class="mode-btn" data-type="complex">
                                    <span class="mode-name">–°–ª–æ–∂–Ω—ã–π –∞–Ω–∞–ª–∏–∑</span>
                                </button>
                                <button class="mode-btn" data-type="random">
                                    <span class="mode-name">–†–∞–Ω–¥–æ–º</span>
                                </button>
                            </div>
                        </div>
                    </aside>

                    <!-- Center Panel -->
                    <section class="center-panel">
                        <div class="welcome-section">
                            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ SmartChoice AI!</h2>
                            <p>–ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ —Ä–µ—à–µ–Ω–∏—è —É–≤–µ—Ä–µ–Ω–Ω–æ. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –∏ –æ–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞—á—É.</p>
                        </div>

                        
                        <div class="input-with-send">
                            <textarea id="home-input" class="textarea" placeholder="–î–∞–≤–∞–π —Ä–µ—à–∏–º –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å"></textarea>
                            <button id="home-submit" class="send-btn" aria-label="–û—Ç–ø—Ä–∞–≤–∏—Ç—å">
                                <span class="send-icon">‚Üë</span>
                            </button>
                        </div>

                        <div class="answer-area" id="home-answer" aria-live="polite"></div>

                        <div>
                            <h3 style="margin-bottom:8px;">–ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤</h3>
                            <div class="examples" id="examples-list"></div>
                        </div>
                    </section>

                    <!-- Right Sidebar -->
                    <aside class="sidebar-right"></aside>
                </div>
            </div>

            <!-- Dashboard Screen -->
            <div id="dashboard-screen" class="screen">
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–µ—à–µ–Ω–∏–π</h3>
                        <canvas id="decisionsChart"></canvas>
                    </div>
                    <div class="dashboard-card">
                        <h3>üéØ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h3>
                        <div class="metric-value">95%</div>
                        <div class="metric-label">–£—Å–ø–µ—à–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π</div>
                    </div>
                    <div class="dashboard-card">
                        <h3>‚è±Ô∏è –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è</h3>
                        <div class="metric-value">2.5 –º–∏–Ω</div>
                        <div class="metric-label">–ù–∞ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏—è</div>
                    </div>
                    <div class="dashboard-card">
                        <h3>–ù–µ–¥–∞–≤–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è</h3>
                        <div class="recent-list" id="recent-decisions"></div>
                    </div>
                    <div class="dashboard-card">
                        <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-value" id="total-decisions">0</span>
                                <span class="stat-label">–†–µ—à–µ–Ω–∏–π</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="accuracy">95%</span>
                                <span class="stat-label">–¢–æ—á–Ω–æ—Å—Ç—å</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- History Screen -->
            <div id="history-screen" class="screen">
                <div class="history-header">
                    <h2>üìã –ò—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π</h2>
                    <button class="btn btn--secondary" onclick="clearHistory()">–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
                </div>
                <div id="history-list" class="history-list">
                    <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>

            <!-- Profile Screen -->
            <div id="profile-screen" class="screen">
                <div class="profile-section">
                    <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</h2>
                    <div class="form-group">
                        <label>–ò–º—è</label>
                        <input type="text" id="profile-name" value="–î–µ–º–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="profile-email" value="demo@smartchoice.ai">
                    </div>
                    <div class="form-group">
                        <label>–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ò–ò</label>
                        <select id="ai-preference">
                            <option value="balanced">–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π</option>
                            <option value="conservative">–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π</option>
                            <option value="progressive">–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π</option>
                        </select>
                    </div>
                    <button class="btn btn--primary" onclick="saveProfile()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </main>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <p>–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–∞—à –∑–∞–ø—Ä–æ—Å...</p>
    </div>

    <!-- Scripts -->
    <script src="app-new.js"></script>
    <script>
        // Initialize application
        document.addEventListener('DOMContentLoaded', function() {
            console.log('SmartChoice AI - Railway Deployment Ready');
            
            // Check if app-new.js loaded successfully
            if (typeof SmartChoiceAI !== 'undefined') {
                window.app = new SmartChoiceAI();
                console.log('‚úÖ SmartChoice AI initialized successfully');
            } else {
                console.error('‚ùå Failed to load SmartChoice AI');
                // Fallback functionality
                initializeFallback();
            }
        });

        // Fallback functionality if main script fails
        function initializeFallback() {
            console.log('üîÑ Initializing fallback functionality...');
            
            // Basic screen switching
            window.showScreen = function(screenName) {
                // Hide all screens
                const screens = document.querySelectorAll('.screen');
                screens.forEach(screen => screen.classList.remove('active'));
                
                // Show target screen
                const targetScreen = document.getElementById(screenName + '-screen');
                if (targetScreen) {
                    targetScreen.classList.add('active');
                }
            };
            
            // Basic submit handler
            const submitBtn = document.getElementById('home-submit');
            if (submitBtn) {
                submitBtn.addEventListener('click', function() {
                    const input = document.getElementById('home-input');
                    const answer = document.getElementById('home-answer');
                    
                    if (input && input.value.trim()) {
                        answer.innerHTML = `
                            <div class="answer-card">
                                <h4>ü§ñ –ë–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑</h4>
                                <p>–í–∞—à –∑–∞–ø—Ä–æ—Å: "${input.value}"</p>
                                <p>–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é.</p>
                                <div class="recommendations">
                                    <h5>–ë–∞–∑–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</h5>
                                    <ul>
                                        <li>–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã</li>
                                        <li>–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã</li>
                                        <li>–î–æ–≤–µ—Ä—å—Ç–µ—Å—å —Å–≤–æ–µ–π –∏–Ω—Ç—É–∏—Ü–∏–∏</li>
                                    </ul>
                                </div>
                            </div>
                        `;
                    }
                });
            }
            
            // Examples functionality
            const examples = [
                "–°—Ç–æ–∏—Ç –ª–∏ –º–µ–Ω—è—Ç—å —Ä–∞–±–æ—Ç—É?",
                "–ö–∞–∫—É—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é –∏–∑—É—á–∞—Ç—å?",
                "–ü–µ—Ä–µ–µ–∑–∂–∞—Ç—å –ª–∏ –≤ –¥—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥?",
                "–ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –∞–∫—Ü–∏–∏ –∏–ª–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å?"
            ];
            
            const examplesList = document.getElementById('examples-list');
            if (examplesList) {
                examples.forEach(example => {
                    const button = document.createElement('button');
                    button.className = 'example-btn';
                    button.textContent = example;
                    button.onclick = () => {
                        const input = document.getElementById('home-input');
                        if (input) input.value = example;
                    };
                    examplesList.appendChild(button);
                });
            }
        }

        // Clear history function
        function clearHistory() {
            const historyList = document.getElementById('history-list');
            if (historyList) {
                historyList.innerHTML = '<p class="empty-state">–ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–µ–Ω–∞</p>';
            }
        }

        // Save profile function
        function saveProfile() {
            const name = document.getElementById('profile-name').value;
            const email = document.getElementById('profile-email').value;
            const preference = document.getElementById('ai-preference').value;
            
            // Show success message
            alert('–ü—Ä–æ—Ñ–∏–ª—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!');
        }

        // Theme switching functionality
        function initTheme() {
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = document.getElementById('theme-icon');
            
            // Check for saved theme preference or default to light theme
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            updateThemeIcon(savedTheme);
            
            // Theme toggle click handler
            themeToggle.addEventListener('click', function() {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                const newTheme = currentTheme === 'light' ? 'dark' : 'light';
                
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                updateThemeIcon(newTheme);
            });
        }
        
        function updateThemeIcon(theme) {
            const themeIcon = document.getElementById('theme-icon');
            if (theme === 'dark') {
                themeIcon.textContent = '‚òÄÔ∏è';
                themeIcon.title = '–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É';
            } else {
                themeIcon.textContent = 'üåô';
                themeIcon.title = '–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Ç–µ–º–Ω—É—é —Ç–µ–º—É';
            }
        }
        
        // Initialize theme when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initTheme();
            console.log('SmartChoice AI - Railway Deployment Ready');
            
            // Check if app-new.js loaded successfully
            if (typeof SmartChoiceAI !== 'undefined') {
                window.app = new SmartChoiceAI();
                console.log('‚úÖ SmartChoice AI initialized successfully');
            } else {
                console.error('‚ùå Failed to load SmartChoice AI');
                // Fallback functionality
                initializeFallback();
            }
        });
    </script>
</body>
</html>